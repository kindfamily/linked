<!DOCTYPE html>
<html>
<head>
    <!-- jquery CDN -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!-- firebase CDN    -->
    <script src="https://www.gstatic.com/firebasejs/4.1.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.1.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.1.1/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.1.1/firebase-messaging.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.2.0/firebase.js"></script>


</head>
<body>
<!-- firebase 입출력 예제 -->
<!--
   <div class="cardBox">
    <h1>name: <input id="inputname" type="text"></h1>
    <h1>subname: <input id="inputsubname" type="text"></h1>
    <button id="button" type="submit">Submit</button>
    <h1>showname: <h1 id="showname"></h1></h1>
    <h1>showsubname: <h1 id="showsubname"></h1></h1>

    <h1 id="display"></h1>
</div>
-->


   
    <!-- 키눌렀을떄 +1 숫자 보여주는 디스플레이 -->   
    <div id="likes">
        <span class="figure"></span>
    </div>
    <script>
    var config = {
        apiKey: "AIzaSyA9N7yJF_SSuA5KjqsmefM3XmQJL4obVOg",
        authDomain: "web-quickstart-bed85.firebaseapp.com",
        databaseURL: "https://web-quickstart-bed85.firebaseio.com",
        projectId: "web-quickstart-bed85",
        storageBucket: "web-quickstart-bed85.appspot.com",
        messagingSenderId: "161167707098"
      };
      firebase.initializeApp(config);

      /* database를 참조한다 */    
      var database = firebase.database();

      /* key 값이 name인 값의 전체를 불러온다 */  
      const clicksDatabses = firebase.database().ref().child('name');
      clicksDatabses.once('value', snap => {
          /* value 값을 snap.val()으로 불러와서 clicks에 담는다 */
          var clicks = snap.val();
          /* 버튼을 눌렀을때 clicks에 1을 더하고 databse에 저장한다 */
          $("body").keydown(function(){ 

            clicks++; 
            $('.figure').html(clicks);

            database.ref().set({
            name: clicks
            });
        });
                    
    });
//            

    
    </script>	


</body>
</html>
