<!DOCTYPE html>
<html>
<head>
    <!-- jquery CDN -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!-- firebase CDN    -->
    <script src="https://www.gstatic.com/firebasejs/4.1.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.1.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.1.1/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.1.1/firebase-messaging.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.2.0/firebase.js"></script>
    <style>
        #likes{
             font-size: 30px;
             border: 1px solid black;
             text-align: center;
             display:table-cell;
             vertical-align:middle;
             width:200px;
             height:200px;
             border-radius:100px;
             -moz-border-radius : 100px;
             -webkit-border-radius : 100px;
             -ms-border-radius :100px;
             -khtml-border-radius : 100px;
             -o-border-radius :100px;
        }
    </style>

</head>
<body>
   
    <!-- 키눌렀을떄 +1 숫자 보여주는 디스플레이 -->   
        <div id="likes" class="figure"></div>
    <script>
    var config = {
        apiKey: "AIzaSyA9N7yJF_SSuA5KjqsmefM3XmQJL4obVOg",
        authDomain: "web-quickstart-bed85.firebaseapp.com",
        databaseURL: "https://web-quickstart-bed85.firebaseio.com",
        projectId: "web-quickstart-bed85",
        storageBucket: "web-quickstart-bed85.appspot.com",
        messagingSenderId: "161167707098"
      };
      firebase.initializeApp(config);

      /* database를 참조한다 */    
      var database = firebase.database();

      /* key 값이 name인 값의 전체를 불러온다 */  
      const clicksDatabses = firebase.database().ref().child('num1');
      clicksDatabses.once('value', snap => {
          /* value 값을 snap.val()으로 불러와서 clicks에 담는다 */
          var clicks = snap.val();
          /* 버튼을 눌렀을때 clicks에 1을 더하고 databse에 저장한다 */
          $("body").keydown(function(event){ 
            var keynum = event.which;
            
            console.log(keynum);
            /* 49 숫자1 이면 1증가 */
            if(keynum === 49){
                clicks++; 
                $('.figure').html(clicks);

                database.ref().set({
                num1: clicks
                });                
            };
        });
                    
    });
//            

    
    </script>	


</body>
</html>
